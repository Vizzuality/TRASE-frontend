<% if (isSelect) { %>
  <% nodes.forEach(function(node, i) { %>
    <% const color = recolorGroups === null ? -1 : recolorGroups[node.id] %>
    <div
      class="js-node-title c-node-title -recolorgroup-<%= color %> <% if (node.hasLink) { %>-link<% } %>"
      data-node-id="<%= node.id %>"
    >
      <div class="column">
        <div class="column-title"><%= node.columnName %></div>
        <div class="column-content"><%= node.name %></div>
      </div>
      <% if (node.hasLink) { %>
        <div class="column">
          <div class="column-content">
            <span href="<%= node.link %>" class="icon-link">
              <svg class="icon icon-link"><use xlink:href="#icon-link"></use></svg>
            </span>
          </div>
        </div>
      <% } %>
      <div class="column">
        <div class="column-title"><%= node.quantName %></div>
        <div class="column-content"><%= parseFloat(node.quantNice).toLocaleString('en') %><span class="unit"><%= node.quantUnit %></span></div>
      </div>
      <% if (node.selectedMetas) { node.selectedMetas.forEach(function(meta) { %>
        <div class="column">
          <div class="column-title"><%= meta.name %></div>
          <div class="column-content"><span class="value"><%= meta.rawValueNice %></span><% if (meta.unit) { %><span class="unit"><%= meta.unit %></span><% } %>
          </div>
        </div>
      <% })} %>
      <div class="column">
        <div class="column-content">
          <svg class="icon icon-close js-node-close" data-node-id="<%= node.id %>"><use xlink:href="#icon-close"></use></svg>
        </div>
      </div>
    </div>
  <% }) %>
<% } else { %>
  <% const node = nodes[0] %>
  <div class="c-node-title -recolorgroup--1">
    <div class="column">
      <div class="column-title"><%= node.columnName %></div>
      <div class="column-content"><%= node.name %></div>
    </div>

    <div class="column">
      <div class="column-title"><%= node.quantName %></div>
      <div class="column-content"><%= node.quantNice %><span class="unit"><%= node.quantUnit %></span></div>
    </div>

    <% if (node.selectedMetas) { node.selectedMetas.forEach(function(meta) { %>
      <div class="column">
        <div class="column-title"><%= meta.name %></div>
        <div class="column-content"><span class="value"><%= meta.rawValueNice %></span><% if (meta.unit) { %><span class="unit"><%= meta.unit %></span><% } %>
        </div>
      </div>
    <% })} %>
  </div>
<% } %>
